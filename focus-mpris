#!/bin/python3
#!/bin/python3
import subprocess

metadata = subprocess.check_output(
    'playerctl metadata | awk \'{$1="" ; print $0 }\'',
    shell=True, text=True
)

data = {}
for line in metadata.split('\n'):
    if line.strip():  # Skip empty lines
        parts = line.split(None, 1)  # Split into max 2 parts on whitespace
        if len(parts) == 2:
            key = parts[0]
            value = parts[1].strip()
            data[key] = value

subprocess.run(['window_id.py', data.get('xesam:title', '')])
